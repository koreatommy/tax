-- 원천징수 관리 시스템 테스트 데이터 (Seed Data)
-- 작성일: 2025-10-03

-- ============================================================================
-- 주의: 실제 사용자 ID는 Supabase Auth에서 회원가입 후 생성됩니다.
-- 이 파일은 테스트용 예시 데이터입니다.
-- ============================================================================

-- 예시 사용자 ID (실제로는 Supabase Auth에서 생성됨)
-- 테스트 시 실제 user_id로 교체 필요

-- ============================================================================
-- 1. 회사 정보 샘플 데이터
-- ============================================================================

-- 샘플 회사 1
-- INSERT INTO companies (id, user_id, business_number, company_name, representative_name, address, contact, email)
-- VALUES (
--   '00000000-0000-0000-0000-000000000001',
--   'your-user-id-here',  -- 실제 user_id로 교체
--   '1234567890',
--   '(주)테스트컴퍼니',
--   '홍길동',
--   '서울특별시 강남구 테헤란로 123',
--   '02-1234-5678',
--   'test@company.com'
-- );

-- ============================================================================
-- 2. 지급 대상자 샘플 데이터
-- ============================================================================

-- 샘플 대상자 1: 프리랜서
-- INSERT INTO payees (id, company_id, name, resident_number_encrypted, address, contact, email, bank_name, account_number_encrypted, business_type, is_active)
-- VALUES (
--   '10000000-0000-0000-0000-000000000001',
--   '00000000-0000-0000-0000-000000000001',
--   '김철수',
--   'ENCRYPTED_900101-1******',  -- 실제로는 암호화된 값
--   '서울특별시 서초구 서초대로 456',
--   '010-1234-5678',
--   'kim@example.com',
--   '신한은행',
--   'ENCRYPTED_110-123-456789',  -- 실제로는 암호화된 값
--   '프리랜서',
--   true
-- );

-- 샘플 대상자 2: 강사
-- INSERT INTO payees (id, company_id, name, resident_number_encrypted, address, contact, email, bank_name, account_number_encrypted, business_type, is_active)
-- VALUES (
--   '10000000-0000-0000-0000-000000000002',
--   '00000000-0000-0000-0000-000000000001',
--   '이영희',
--   'ENCRYPTED_850505-2******',  -- 실제로는 암호화된 값
--   '서울특별시 마포구 마포대로 789',
--   '010-9876-5432',
--   'lee@example.com',
--   '국민은행',
--   'ENCRYPTED_123-456-789012',  -- 실제로는 암호화된 값
--   '강사',
--   true
-- );

-- ============================================================================
-- 3. 지급 내역 샘플 데이터
-- ============================================================================

-- 샘플 지급 1: 김철수에게 100만원 지급
-- INSERT INTO payments (id, company_id, payee_id, payment_date, payment_amount, income_tax, local_income_tax, total_tax, net_amount, payment_reason, receipt_issued)
-- VALUES (
--   '20000000-0000-0000-0000-000000000001',
--   '00000000-0000-0000-0000-000000000001',
--   '10000000-0000-0000-0000-000000000001',
--   '2024-09-30',
--   1000000.00,   -- 지급액
--   30000.00,     -- 소득세 3%
--   3000.00,      -- 지방소득세 0.3%
--   33000.00,     -- 총 세액 3.3%
--   967000.00,    -- 실지급액
--   '2024년 9월 프로젝트 개발비',
--   false
-- );

-- 샘플 지급 2: 이영희에게 200만원 지급
-- INSERT INTO payments (id, company_id, payee_id, payment_date, payment_amount, income_tax, local_income_tax, total_tax, net_amount, payment_reason, receipt_issued)
-- VALUES (
--   '20000000-0000-0000-0000-000000000002',
--   '00000000-0000-0000-0000-000000000001',
--   '10000000-0000-0000-0000-000000000002',
--   '2024-09-30',
--   2000000.00,   -- 지급액
--   60000.00,     -- 소득세 3%
--   6000.00,      -- 지방소득세 0.3%
--   66000.00,     -- 총 세액 3.3%
--   1934000.00,   -- 실지급액
--   '2024년 9월 강의료',
--   false
-- );

-- ============================================================================
-- 4. 영수증 샘플 데이터
-- ============================================================================

-- 샘플 영수증 1
-- INSERT INTO receipts (id, payment_id, payee_id, company_id, receipt_number, email_sent, issued_by)
-- VALUES (
--   '30000000-0000-0000-0000-000000000001',
--   '20000000-0000-0000-0000-000000000001',
--   '10000000-0000-0000-0000-000000000001',
--   '00000000-0000-0000-0000-000000000001',
--   'RCP-2024-0001',
--   false,
--   'your-user-id-here'  -- 실제 user_id로 교체
-- );

-- ============================================================================
-- 테스트 데이터 생성 안내
-- ============================================================================

DO $$
BEGIN
  RAISE NOTICE '============================================';
  RAISE NOTICE '테스트 데이터 생성 안내';
  RAISE NOTICE '============================================';
  RAISE NOTICE '';
  RAISE NOTICE '이 파일의 INSERT 문은 주석 처리되어 있습니다.';
  RAISE NOTICE '실제 사용 시:';
  RAISE NOTICE '1. Supabase Auth에서 회원가입하여 user_id 획득';
  RAISE NOTICE '2. user_id를 실제 값으로 교체';
  RAISE NOTICE '3. 주민번호와 계좌번호를 암호화하여 입력';
  RAISE NOTICE '4. 주석을 제거하고 실행';
  RAISE NOTICE '';
  RAISE NOTICE '또는 애플리케이션 UI를 통해 데이터 입력 권장';
  RAISE NOTICE '============================================';
END $$;

